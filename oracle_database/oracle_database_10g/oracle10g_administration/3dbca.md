#### 3.DBCA {#3-dbca}

Database Configuration Assistant (DBCA) 可以使用 Database Configuration Assistant (DBCA) 创建或删除数据库，或者更改数据库的配置。还可以根据预定义的模板列表创建数据库，或者通过使用现有数据库作为样本来 创建新数据库或模板。这有时被称为 &quot; 克隆数据库 &quot; 。 可通过执行以下步骤调用 DBCA ： 1\. 以已获得安装 Oracle 软件权限的管理组成员身份登录计算机。 2\. 根据需要设置环境变量。 3\. 输入 dbca 调用 DBCA 。 4\. 单击 &quot;Next （下一步） &quot; 继续操作。 DBCA 通过提供选项来帮助完成某些操作，例如，创建数据库。

**使用** **DBCA 创建数据库：** 1\. 在 &quot;DBCA Operations （ DBCA 操作） &quot; 页中，通过选择 &quot;Create a database （创建数据库） &quot; 来调用向导，以便配置和创建数据库。该向导会提示您输入后面步骤中提及的配置信息。在大多数页中，向导都提供可接受的默认设置。 2\. 选择创建数据库时使用的数据库模板类型。数据库模板有三种类型：数据仓库、通用数据库和事务处理数据库。这些模板可以复制预配置的数据库，包括数据文件。数据文件包括控制文件、重做日志文件以及所包括的各种表空间的数据文件。单击 &quot;Show Details （显示详细资料） &quot; 可查看每类数据库的配置。对于更复杂的环境，可能需要选择 &quot;Custom Database （定制数据库） &quot; 选项。 3\. Database Identification （数据库标识）：以 database_name.domain_name 格式输入全局数据库名，然后输入系统标识符 (SID) 。 SID 的默认值是数据库名称，用于唯一标识与数据库关联的实例。 4\. Management Options （管理选项）：使用此页设置数据库，以便通过 Oracle Enterprise Manager 对数据库进行管理。选择默认值： &quot;Configure the Database with Enterprise Manager （使用 Oracle Enterprise Manager 配置数据库） &quot; 。 5\. Database Credentials （数据库身份证明）：使用此页指定管理帐户（如 SYS 和 SYSTEM ）的口令。在本课中，使用 oracle 作为所有管理帐户的口令。 6\. Storage Options （存储选项）：指定希望数据库使用的存储机制类型（如文件系统）。 7\. Database File Locations （数据库文件位置）：根据需要进行选择。如果使用 Oracle Managed File (OMF) ，则不需要直接管理构成 Oracle 数据库的操作系统文件。可以按照数据库对象而不是文件名指定操作。有关详细信息，请参阅 &quot; 管理数据库存储结构 &quot; 一课。 8\. Recovery Configuration （恢复配置）：如果需要，请指定快速恢复区并启用归档。 9\. Database Content （数据库内容）：这些页提供的选项可用来选择组件，如 &quot;Sample Schemas （示例方案） &quot; ，使用定制脚本时也会用到这些选项。

10\. Initialization Parameters （初始化参数）：使用此页中的标签可以访问用来更改默认初始化参数设置的页： - Memory （内存）：使用此页可设置控制内存使用量的初始化参数。请使用 &quot;(A) Typical （典型） &quot; 或 &quot;(B) Custom （定制） &quot; 内存分配。 - Sizing （大小）：要指定块大小，请输入字节大小或接受默认值。 - Character Sets （字符集）：使用此页可指定数据库的字符集。最佳方案提示： Oracle 建议尽可能使用 Unicode 作为数据库字符集，因为这种字符集可灵活地支持 Web 技术及多数口头语言。 - Connection Mode （连接模式）：选择 &quot;Dedicated （专用） &quot; 或 &quot;Shared Server Mode （共享服务器模式） &quot; 。有关详细信息，请参阅 &quot; 配置 Oracle 网络环境 &quot; 一课。 注：有几个初始化参数是在数据库生存期设置的，如 DB_BLOCK_SIZE 和 CHARACTER_SET 参数。

11\. Database Storage （数据库存储）：如果为数据库选择了一个预配置模板，则不能添加或删除控制文件或数据文件。 注：为便于参考，可能需要将数据库定义保存为 HTML 文件。 12\. Creation Options （创建选项）：提供创建数据库、将数据库定义保存为模板和生成脚本的选项。如果选择所有选项，那么 DBCA 首先会保存数据库模板，然后在目标目录中生成脚本，最后创建数据库。

**创建数据库设计模板** 模板是预定义的数据库定义，可将其用作创建新数据库的起点。如果在数据库创建过程中未创建模板，则可以随时通过调用 DBCA 来创建模板。可通过三种方法创建模板： 1 ） ~ 根据现有模板 2 ） ~ 根据现有数据库（仅结构） 3 ） ~ 根据现有数据库（结构与数据） DBCA 会指导您完成创建数据库设计模板的各个步骤。

**使用** **DBCA 删除数据库** 要在 UNIX 或 Linux 中删除（或配置）数据库，必须在启动 DBCA 的 shell 中设置 ORACLE_SID 。在终端窗口中输入 dbca ，然后单击 &quot;Welcome （欢迎使用） &quot; 页上的 &quot;Next （下一步） &quot; ，即可启动 DBCA 。要删除数据库，请执行以下步骤： 1\. 在 &quot;Operations （操作） &quot; 页上，选择 &quot;Delete a Database （删除数据库） &quot; ，然后单击 &quot;Next （下一步） &quot; 。 2\. 选择要删除的数据库（本课中为 hist ），然后单击 &quot;Finish （完成） &quot; 。 3\. 单击 &quot;Yes （是） &quot; 确认删除。 删除数据库时会删除数据库的数据文件、重做日志文件、控制文件和初始化参数文件。 使用 DROP DATABASE 语句可删除所有控制文件及控制文件中列出的其它所有数据库文件。要成功使用 DROP DATABASE 语句，必须符合以下所有条件： 1 ）数据库必须已装载且已关闭。 2 ）必须以独占方式而不是共享模式装载数据库。 3 ）数据库必须装载为 RESTRICTED 。 此语句的一个示例是： DROP DATABASE;DROP DATABASE 语句对归档日志文件不起作用，对数据库的副本或备份也不起作用。 最好使用 Recovery Manager (RMAN) 来删除这种文件。如果数据库保存在裸磁盘中，则不会删除实际裸磁盘专用文件。